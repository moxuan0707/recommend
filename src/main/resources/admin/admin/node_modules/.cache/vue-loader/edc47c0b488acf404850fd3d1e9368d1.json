{"remainingRequest":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\src\\components\\index\\IndexHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\src\\components\\index\\IndexHeader.vue","mtime":1668478156000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglleHBvcnQgZGVmYXVsdCB7CgkJZGF0YSgpIHsKCQkJcmV0dXJuIHsKCQkJCWRpYWxvZ1Zpc2libGU6IGZhbHNlLAoJCQkJcnVsZUZvcm06IHt9LAoJCQkJdXNlcjoge30sCgkJCX07CgkJfSwKCQljcmVhdGVkKCkgewoJCQkKCQl9LAoJCW1vdW50ZWQoKSB7CgkJCWxldCBzZXNzaW9uVGFibGUgPSB0aGlzLiRzdG9yYWdlLmdldCgic2Vzc2lvblRhYmxlIikKCQkJdGhpcy4kaHR0cCh7CgkJCQl1cmw6IHNlc3Npb25UYWJsZSArICcvc2Vzc2lvbicsCgkJCQltZXRob2Q6ICJnZXQiCgkJCX0pLnRoZW4oKHsKCQkJCWRhdGEKCQkJfSkgPT4gewoJCQkJaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CgkJCQkJdGhpcy51c2VyID0gZGF0YS5kYXRhOwoJCQkJCXRoaXMuJHN0b3JhZ2Uuc2V0KCd1c2VyaWQnLGRhdGEuZGF0YS5pZCk7CgkJCQl9IGVsc2UgewoJCQkJCWxldCBtZXNzYWdlID0gdGhpcy4kbWVzc2FnZQoJCQkJCW1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCW1ldGhvZHM6IHsKCQkJb25Mb2dvdXQoKSB7CgkJCQlsZXQgc3RvcmFnZSA9IHRoaXMuJHN0b3JhZ2UKCQkJCWxldCByb3V0ZXIgPSB0aGlzLiRyb3V0ZXIKCQkJCXN0b3JhZ2UuY2xlYXIoKQoJCQkJcm91dGVyLnJlcGxhY2UoewoJCQkJCW5hbWU6ICJsb2dpbiIKCQkJCX0pOwoJCQl9LAoJCQlvbkluZGV4VGFwKCl7CgkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAke3RoaXMuJGJhc2UuaW5kZXhVcmx9YAoJCQl9LAogICAgICAgICAgICB0b0JvYXJkKCl7CiAgICAgICAgICAgICAgICBsZXQgcm91dGVEYXRhID0gdGhpcy4kcm91dGVyLnJlc29sdmUoeyBwYXRoOiAnL2JvYXJkJ30pOwogICAgICAgICAgICAgICAgd2luZG93Lm9wZW4ocm91dGVEYXRhLmhyZWYsICdfYmxhbmsnKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYmFja1VwKCkgewogICAgICAgICAgICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm5aSH5Lu95pWw5o2u5bqTPycsICfmlbDmja7lpIfku73mj5DnpLonLCB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfmmK8nLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflkKYnLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9teXNxbGR1bXAnLAogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhCiAgICAgICAgICAgICAgICAgICAgfSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluYXJ5RGF0YSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluYXJ5RGF0YS5wdXNoKGRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0VXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoYmluYXJ5RGF0YSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9wZGY7Y2hhcnRzZXQ9VVRGLTgnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuaHJlZiA9IG9iamVjdFVybAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5kb3dubG9hZCA9ICdteXNxbC5kbXAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhLmNsaWNrKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOS4i+mdoui/meS4quWGmeazleWFvOWuueeBq+eLkAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldzogd2luZG93CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UoIuaVsOaNruWkh+S7veaIkOWKnyIpCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IHRoaXMuJG1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKCQl9Cgl9Owo="},{"version":3,"sources":["IndexHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"IndexHeader.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\r\n\t<div class=\"navbar\">\r\n\t\t<div class=\"title\" :style='{\"display\":\"block\"}'>\r\n\t\t\t<el-image v-if=\"false\" class=\"title-img\" :style='{\"width\":\"44px\",\"objectFit\":\"cover\",\"borderRadius\":\"100%\",\"float\":\"left\",\"height\":\"44px\"}' src=\"http://codegen.caihongy.cn/20201114/7856ba26477849ea828f481fa2773a95.jpg\" fit=\"cover\" />\r\n\t\t\t<span class=\"title-name\" :style='{\"padding\":\"0 0 0 12px\",\"lineHeight\":\"44px\",\"color\":\"#ffffff\",\"float\":\"left\"}'>{{this.$project.projectName}}</span>\r\n\t\t</div>\r\n\t\t<div class=\"right\" :style='{\"position\":\"absolute\",\"right\":\"20px\",\"top\":\"8px\",\"display\":\"flex\"}'>\r\n\t\t\t<div :style='{\"cursor\":\"pointer\",\"margin\":\"0 5px\",\"lineHeight\":\"44px\",\"color\":\"#fff\"}' class=\"nickname\">{{this.$storage.get('role')}} {{this.$storage.get('adminName')}}</div>\r\n\t\t\t<div :style='{\"cursor\":\"pointer\",\"margin\":\"0 5px\",\"lineHeight\":\"44px\",\"color\":\"#fff\"}' v-if=\"this.$storage.get('role')=='管理员'\" class=\"logout\" @click=\"toBoard\">跳转到看板</div>\r\n\t\t\t<div :style='{\"cursor\":\"pointer\",\"margin\":\"0 5px\",\"lineHeight\":\"44px\",\"color\":\"#fff\"}' v-if=\"this.$storage.get('role')=='管理员'\" class=\"backUp\" @click=\"backUp\">数据备份</div>\r\n\t\t\t<div :style='{\"cursor\":\"pointer\",\"margin\":\"0 5px\",\"lineHeight\":\"44px\",\"color\":\"#fff\"}' class=\"logout\" @click=\"onLogout\">退出登录</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\truleForm: {},\r\n\t\t\t\tuser: {},\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet sessionTable = this.$storage.get(\"sessionTable\")\r\n\t\t\tthis.$http({\r\n\t\t\t\turl: sessionTable + '/session',\r\n\t\t\t\tmethod: \"get\"\r\n\t\t\t}).then(({\r\n\t\t\t\tdata\r\n\t\t\t}) => {\r\n\t\t\t\tif (data && data.code === 0) {\r\n\t\t\t\t\tthis.user = data.data;\r\n\t\t\t\t\tthis.$storage.set('userid',data.data.id);\n\t\t\t\t} else {\r\n\t\t\t\t\tlet message = this.$message\r\n\t\t\t\t\tmessage.error(data.msg);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonLogout() {\r\n\t\t\t\tlet storage = this.$storage\r\n\t\t\t\tlet router = this.$router\r\n\t\t\t\tstorage.clear()\n\t\t\t\trouter.replace({\r\n\t\t\t\t\tname: \"login\"\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonIndexTap(){\n\t\t\t\twindow.location.href = `${this.$base.indexUrl}`\n\t\t\t},\r\n            toBoard(){\n                let routeData = this.$router.resolve({ path: '/board'});\n                window.open(routeData.href, '_blank');\n            },\n            backUp() {\n                this.$confirm('是否备份数据库?', '数据备份提示', {\n                    confirmButtonText: '是',\n                    cancelButtonText: '否',\n                    type: 'warning'\n                }).then(() => {\n                    this.$http({\n                        url: '/mysqldump',\n                        method: \"get\"\n                    }).then(({\n                        data\n                    }) => {\n                        if (data) {\n                            const binaryData = [];\n                            binaryData.push(data);\n                            const objectUrl = window.URL.createObjectURL(new Blob(binaryData, {\n                                type: 'application/pdf;chartset=UTF-8'\n                            }))\n                            const a = document.createElement('a')\n                            a.href = objectUrl\n                            a.download = 'mysql.dmp'\n                            // a.click()\n                            // 下面这个写法兼容火狐\n                            a.dispatchEvent(new MouseEvent('click', {\n                                bubbles: true,\n                                cancelable: true,\n                                view: window\n                            }))\n                            window.URL.revokeObjectURL(data)\n                            message.message(\"数据备份成功\")\n                        } else {\n                            let message = this.$message\n                            message.error(data.msg);\n                        }\n                    });\n                });\n            },\n\t\t}\r\n\t};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.navbar {\r\n\t\r\n\t}\r\n</style>\n"]}]}