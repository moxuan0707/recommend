{"remainingRequest":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\src\\views\\home.vue?vue&type=style&index=0&id=7eb2bc79&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\src\\views\\home.vue","mtime":1668478156000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Downloads\\测试看板5-勿动\\ssm4c3u1\\src\\main\\webapp\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jYXJkVmlldyB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC13cmFwOiB3cmFwOwogICAgd2lkdGg6IDEwMCU7CgogICAgLmNhcmRzIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAuY2FyZCB7CiAgICAgICAgICAgIHdpZHRoOiBjYWxjKDI1JSAtIDIwcHgpOwogICAgICAgICAgICBtYXJnaW46IDAgMTBweDsKICAgICAgICAgICAgL2RlZXAvLmVsLWNhcmRfX2JvZHl7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsQA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div class=\"content\">\r\n\t<div class=\"text\" :style='{\"margin\":\"50px auto\",\"fontSize\":\"34px\",\"color\":\"rgb(51, 51, 51)\",\"textAlign\":\"center\",\"fontWeight\":\"bold\"}'>欢迎使用 {{this.$project.projectName}}</div>\r\n    <div class=\"cardView\">\r\n        <div class=\"cards\" :style='{\"margin\":\"0 0 20px 0\",\"alignItems\":\"center\",\"justifyContent\":\"center\",\"display\":\"flex\"}'>\r\n\t\t\t<div :style='{\"border\":\"1px solid #ccc\",\"boxShadow\":\"0 0px 0px rgba(0,0,0,.3)\",\"margin\":\"0 10px\",\"borderRadius\":\"20px 40px\",\"display\":\"flex\"}' v-if=\"isAuth('user','首页总数')\">\r\n\t\t\t\t<div :style='{\"width\":\"180px\",\"borderRadius\":\"20px 40px\",\"background\":\"#5497f2\",\"height\":\"120px\"}'></div>\r\n\t\t\t\t<div :style='{\"width\":\"160px\",\"alignItems\":\"center\",\"flexDirection\":\"column\",\"justifyContent\":\"center\",\"display\":\"flex\",\"height\":\"120px\"}'>\r\n\t\t\t\t\t<div :style='{\"margin\":\"5px 0\",\"lineHeight\":\"24px\",\"fontSize\":\"34px\",\"color\":\"#888\",\"fontWeight\":\"bold\",\"height\":\"24px\"}'>{{userCount}}</div>\r\n\t\t\t\t\t<div :style='{\"margin\":\"10px 0\",\"lineHeight\":\"24px\",\"fontSize\":\"16px\",\"color\":\"#666\",\"height\":\"24px\"}'>用户总数</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        </div>\r\n        <div style=\"display: flex;align-items: center;width: 100%;margin-bottom: 10px;\">\r\n            <el-card style=\"width: 33.3%;margin: 0 10px;\" v-if=\"isAuth('user','首页统计')\">\r\n                <div id=\"userChart\" style=\"width:100%;height:400px;\"></div>\r\n            </el-card>\r\n            <el-card style=\"width: 33.3%;margin: 0 10px;\" v-if=\"isAuth('user','首页统计')\">\r\n                <div id=\"userChart1\" style=\"width:100%;height:400px;\"></div>\r\n            </el-card>\r\n            <el-card style=\"width: 33.3%;margin: 0 10px;\" v-if=\"isAuth('user','首页统计')\">\r\n                <div id=\"userChart2\" style=\"width:100%;height:400px;\"></div>\r\n            </el-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\n//3\r\nimport router from '@/router/router-static'\r\nimport * as echarts from 'echarts'\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n            userCount: 0,\r\n\t\t};\r\n\t},\r\n  mounted(){\r\n    this.init();\r\n    this.getuserCount();\r\n    this.userChat();\r\n    this.userChat1();\r\n    this.userChat2();\r\n  },\r\n  methods:{\r\n    init(){\r\n        if(this.$storage.get('Token')){\r\n        this.$http({\r\n            url: `${this.$storage.get('sessionTable')}/session`,\r\n            method: \"get\"\r\n        }).then(({ data }) => {\r\n            if (data && data.code != 0) {\r\n            router.push({ name: 'login' })\r\n            }\r\n        });\r\n        }else{\r\n            router.push({ name: 'login' })\r\n        }\r\n    },\r\n    getuserCount() {\r\n        this.$http({\r\n            url: `user/count`,\r\n            method: \"get\"\r\n        }).then(({\r\n            data\r\n        }) => {\r\n            if (data && data.code == 0) {\r\n                this.userCount = data.data\r\n            }\r\n        })\r\n    },\r\n    userChat() {\r\n      this.$nextTick(()=>{\r\n        var userChart = echarts.init(document.getElementById(\"userChart\"),'macarons');\r\n        this.$http({\r\n            url: \"user/group/xingbie\",\r\n            method: \"get\",\r\n        }).then(({ data }) => {\r\n            if (data && data.code === 0) {\r\n            let res = data.data;\r\n            let xAxis = [];\r\n            let yAxis = [];\r\n            let pArray = []\r\n            for(let i=0;i<res.length;i++){\r\n                xAxis.push(res[i].xingbie);\r\n                yAxis.push(parseFloat((res[i].total)));\r\n                pArray.push({\r\n                value: parseFloat((res[i].total)),\r\n                name: res[i].xingbie\r\n                })\r\n                var option = {};\r\n                option = {\r\n                        title: {\r\n                            text: '用户',\r\n                            left: 'center'\r\n                        },\r\n                        tooltip: {\r\n                          trigger: 'item',\r\n                          formatter: '{b} : {c} ({d}%)'\r\n                        },\r\n                        series: [\r\n                            {\r\n                                type: 'pie',\r\n                                radius: ['25%', '55%'],\r\n                                center: ['50%', '60%'],\r\n                                data: pArray,\r\n                                emphasis: {\r\n                                    itemStyle: {\r\n                                        shadowBlur: 10,\r\n                                        shadowOffsetX: 0,\r\n                                        shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]\r\n                };\r\n                // 使用刚指定的配置项和数据显示图表。\r\n                userChart.setOption(option);\r\n                  //根据窗口的大小变动图表\r\n                window.onresize = function() {\r\n                    userChart.resize();\r\n                };\r\n            }\r\n            }\r\n        });\r\n        // xcolumn ycolumn  \r\n      })\r\n    },\r\n\r\n    userChat1() {\r\n      this.$nextTick(()=>{\r\n\r\n        var userChart1 = echarts.init(document.getElementById(\"userChart1\"),'macarons');\r\n        this.$http({\r\n            url: \"user/typeStat/xingbie\",\r\n            method: \"get\",\r\n        }).then(({ data }) => {\r\n            if (data && data.code === 0) {\r\n                let res = data.data;\r\n                let xAxis = [];\r\n                let yAxis = [];\r\n                let pArray = []\r\n                for(let i=0;i<res.length;i++){\r\n                    xAxis.push(res[i].xingbie);\r\n                    yAxis.push(parseFloat((res[i].total)));\r\n                    pArray.push({\r\n                        value: parseFloat((res[i].total)),\r\n                        name: res[i].xingbie\r\n                    })\r\n                }\r\n                var option = {};\r\n                option = {\r\n                        title: {\r\n                            text: '性别统计',\r\n                            left: 'center'\r\n                        },\r\n                        tooltip: {\r\n                          trigger: 'item',\r\n                          formatter: '{b} : {c} ({d}%)'\r\n                        },\r\n                        series: [\r\n                            {\r\n                                type: 'pie',\r\n                                radius: '55%',\r\n                                center: ['50%', '60%'],\r\n                                data: pArray,\r\n                                emphasis: {\r\n                                    itemStyle: {\r\n                                        shadowBlur: 10,\r\n                                        shadowOffsetX: 0,\r\n                                        shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]\r\n                };\r\n                // 使用刚指定的配置项和数据显示图表。\r\n                userChart1.setOption(option);\r\n                  //根据窗口的大小变动图表\r\n                window.onresize = function() {\r\n                    userChart1.resize();\r\n                };\r\n            }\r\n        });\r\n      })\r\n    },\r\n\r\n    userChat2() {\r\n      this.$nextTick(()=>{\r\n\r\n        var userChart2 = echarts.init(document.getElementById(\"userChart2\"),'macarons');\r\n        this.$http({\r\n            url: \"user/typeStat/huiyuandengji/diqu\",\r\n            method: \"get\",\r\n        }).then(({ data }) => {\r\n            if (data && data.code === 0) {\r\n                let res = data.data;\r\n                let xAxis = [];\r\n                let yAxis1 = [];\r\n                let yAxis2 = [];\r\n                let pArray = []\r\n                for(let i=0;i<res.length;i++){\r\n                    xAxis.push(res[i].diqu);\r\n                    yAxis1.push(parseFloat((res[i].普通会员)));\r\n                    yAxis2.push(parseFloat((res[i].超级会员)));\r\n                    pArray.push({\r\n                        name: res[i].huiyuandengji\r\n                    })\r\n                }\r\n                var option = {};\r\n                option = {\r\n                    title: {\r\n                        text: '会员统计',\r\n                    },\r\n                    legend: {\r\n                      data: [\r\n                        '普通会员',\r\n                        '超级会员',\r\n                        ]\r\n                    },\r\n                    tooltip: {\r\n                      trigger: 'axis'\r\n                    },\r\n                    xAxis: {\r\n                        type: 'category',\r\n                        data: xAxis\r\n                    },\r\n                    yAxis: {\r\n                        type: 'value'\r\n                    },\r\n                    series: [\r\n                    {\r\n                        name: '普通会员',\r\n                        data: yAxis1,\r\n                        type: 'bar'\r\n                    },\r\n                    {\r\n                        name: '超级会员',\r\n                        data: yAxis2,\r\n                        type: 'bar'\r\n                    },\r\n                    ],\r\n                };\r\n                // 使用刚指定的配置项和数据显示图表。\r\n                userChart2.setOption(option);\r\n                  //根据窗口的大小变动图表\r\n                window.onresize = function() {\r\n                    userChart2.resize();\r\n                };\r\n            }\r\n        });\r\n      })\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .cardView {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        width: 100%;\r\n\r\n        .cards {\r\n            display: flex;\r\n            align-items: center;\r\n            width: 100%;\r\n            margin-bottom: 10px;\r\n            justify-content: center;\r\n            .card {\r\n                width: calc(25% - 20px);\r\n                margin: 0 10px;\r\n                /deep/.el-card__body{\r\n                    padding: 0;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\r\n"]}]}